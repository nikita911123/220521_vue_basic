<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Object.defineProperty 属性赋值</title>
</head>
<body>
<script>
  let person = {}
  //如下这么写会形成递归(无限循环)
  //set和get中的this都是当前对象
  /*Object.defineProperty(person,'name',{
    set(value){//当修改person.name时，set被调用，set会受到：新的值
      console.log('set被调用了');
      //this.name = value //报错 Maxmum call stack size exceeded 超过最大回调栈
    },
    get(){//当读取person.name时，get被调用，get的返回值就是name的值
      console.log('get被调用了')
      return 100
    }
  })*/
  person.name = '留'
  //模拟数据代理
  let _data = {msg:'info'}

  let vm = {}

  Object.defineProperty(vm,'msg',{
    set(value){
      _data.msg = value
    },
    get(){
        return _data.msg
    }
  })


</script>
</body>
</html>